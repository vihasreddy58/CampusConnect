<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add Event</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Tangerine" />
    <link rel="stylesheet" href="/css/styles.css">
</head>
<body>
    <%- include('navbarcl') %>
    <div class="container" id="main-container">
        <div class="container mt-5" id="form-container">
            <h1 class="text-center">ADD EVENT</h1>
            <form class="mt-4" action="/addevent" method="post" enctype="multipart/form-data">
                <!-- Your existing form fields -->
                <div class="form-group">
                    <label for="clubname" class="text-primary">Clubname*</label>
                    <input type="text" class="form-control" id="clubname" name="clubname" placeholder="Enter your Clubname" required>
                </div>
                <div class="form-group">
                    <label for="eventname" class="text-primary">Eventname*</label>
                    <input type="text" class="form-control" id="eventname" name="eventname" placeholder="Enter your Eventname" required>
                </div>
                <div class="form-group">
                    <label for="category" class="text-primary">Category*</label>
                    <select class="form-select" id="category" name="category">
                        <option selected>Choose...</option>
                        <option value="Technical">Technical</option>
                        <option value="Cultural">Cultural</option>
                        <option value="Literati">Literati</option>
                        <option value="Sports">Sports</option>
                        <option value="Service">Service</option>
                        <option value="Others">Others</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="description" class="text-primary">Description*</label>
                    <textarea class="form-control" id="description" name="description" rows="3" placeholder="Add Description of your event" required></textarea>
                </div>
                <div class="form-group">
                    <label for="outcome" class="text-primary">Outcome*</label>
                    <textarea class="form-control" id="outcome" name="outcome" rows="3" placeholder="Add Outcomes of your event" required></textarea>
                </div>
                <div class="form-group">
                    <label for="location" class="text-primary">Location*</label>
                    <input type="text" class="form-control" id="location" name="location" placeholder="Enter event Location" required>
                </div>
                <div class="form-group">
                    <label for="eventdate" class="text-primary">Eventdate*</label>
                    <input type="date" class="form-control" id="eventdate" name="eventdate" placeholder="Enter Event Date" required>
                </div>
                <div class="form-group">
                    <label for="eventopen" class="text-primary">Registration Start*</label>
                    <input type="date" class="form-control" id="eventopen" name="eventopen" placeholder="Registration Start Date" required>
                </div>
                <div class="form-group">
                    <label for="eventdeadline" class="text-primary">Registration Deadline*</label>
                    <input type="date" class="form-control" id="eventdeadline" name="eventdeadline" placeholder="Registration Close Date" required>
                </div>
                <div class="form-group">
                    <label for="eventfee" class="text-primary">Registration Fee*</label>
                    <input type="text" class="form-control" id="eventfee" name="eventfee" placeholder="Enter Registration Fee">
                </div>
                <div id="payment-fields" style="display: none;">
                    <div class="form-group">
                        <label for="paymentQR" class="text-primary">Payment QR Code</label>
                        <input type="file" class="form-control-file" id="paymentQR" name="paymentQR" accept="image/*">
                    </div>
                </div>
                <div class="form-group">
                    <label for="eventrewards" class="text-primary">Rewards*</label>
                    <input type="text" class="form-control" id="eventrewards" name="eventrewards" placeholder="Enter Event Rewards separated by comma" required>
                </div>
                <div class="form-group">
                    <label for="team" class="text-primary">Team Size*</label>
                    <input type="text" class="form-control" id="team" name="team" placeholder="Enter Team Size" required>
                </div>
                <div class="form-group">
                    <label for="eligibility" class="text-primary">Eligibility*</label>
                    <input type="text" class="form-control" id="eligibility" name="eligibility" placeholder="Enter Eligibility" required>
                </div>
                <div class="form-group">
                    <label for="cheif" class="text-primary">Guest/Speaker</label>
                    <input type="text" class="form-control" id="cheif" name="cheif" placeholder="Cheif Guests/Speakers (If Any)">
                </div>
                <div class="form-group">
                    <label for="contact" class="text-primary">Contact*</label>
                    <input type="text" class="form-control" id="contact" name="contact" placeholder="Enter Contact Details" required>
                </div>
                <div class="form-group">
                    <label for="link" class="text-primary">Link*</label>
                    <input type="text" class="form-control" id="link" name="link" placeholder="Enter Registration Link" required>
                </div>
                <div class="form-group">
                    <label for="poster" class="text-primary">Poster*</label>
                    <input type="file" class="form-control-file" id="poster" name="poster" accept="image/*" required>
                </div>
                <h3>ADD FAQ'S</h3>
                <!-- FAQ Section -->
                <div class="faq-section">
                    <h3 class="text-primary">FAQs</h3>
                    <div class="form-group">
                        <label for="faq1" class="text-primary">FAQ 1*</label>
                        <input type="text" class="form-control" id="faq1" name="faq1" placeholder="FAQ Question" required>
                        <textarea class="form-control mt-2" id="faq1_answer" name="faq1_answer" rows="2" placeholder="FAQ Answer" required></textarea>
                    </div>
                    <div class="form-group">
                        <label for="faq2" class="text-primary">FAQ 2*</label>
                        <input type="text" class="form-control" id="faq2" name="faq2" placeholder="FAQ Question" required>
                        <textarea class="form-control mt-2" id="faq2_answer" name="faq2_answer" rows="2" placeholder="FAQ Answer" required></textarea>
                    </div>
                    <div class="form-group">
                        <label for="faq3" class="text-primary">FAQ 3*</label>
                        <input type="text" class="form-control" id="faq3" name="faq3" placeholder="FAQ Question" required>
                        <textarea class="form-control mt-2" id="faq3_answer" name="faq3_answer" rows="2" placeholder="FAQ Answer" required></textarea>
                    </div>
                    <div id="additional-faqs"></div>
                    <button type="button" class="btn btn-secondary mt-3" id="add-faq-btn">Add FAQ</button>
                </div>
                <h3>Give Required Details to create registeration form....</h3>
                <p>The basic details fields are already been created (Name,Email,Mobile,ROll no,Branch,Year,Section)
                    <br>So Please add fields other than these details 
                </p>
                <!-- Custom Registration Form Fields Section -->
                <div class="custom-registration-fields-section">
                    <div class="form-group">
                        <label for="fieldLabel1" class="text-primary">Field Label*</label>
                        <input type="text" class="form-control" id="fieldLabel1" name="fieldLabel1" placeholder="Field Label" required>
                    </div>
                    <div class="form-group">
                        <label for="fieldType1" class="text-primary">Field Type*</label>
                        <select class="form-select" id="fieldType1" name="fieldType1" required>
                            <option selected>Choose...</option>
                            <option value="text">Text</option>
                            <option value="number">Number</option>
                            <option value="email">Email</option>
                            <option value="date">Date</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="isRequired1" class="text-primary">Required*</label>
                        <input type="checkbox" class="form-check-input" id="isRequired1" name="isRequired1">
                    </div>
                    <div id="additional-fields"></div>
                    <button type="button" class="btn btn-secondary mt-3" id="add-field-btn">Add Field</button>
                </div>

                <div class="text-center mt-4">
                    <button type="submit" class="btn btn-primary">Submit</button>
                </div>
            </form>
        </div>
    </div>

    <script>
        let faqCount = 3;
        document.getElementById('add-faq-btn').addEventListener('click', function() {
            faqCount++;
            const faqContainer = document.getElementById('additional-faqs');
            const newFaq = document.createElement('div');
            newFaq.className = 'form-group mt-3';
            newFaq.innerHTML = `
                <label for="faq${faqCount}" class="text-primary">FAQ ${faqCount} (Optional)</label>
                <input type="text" class="form-control" id="faq${faqCount}" name="faq${faqCount}" placeholder="FAQ Question">
                <textarea class="form-control mt-2" id="faq${faqCount}_answer" name="faq${faqCount}_answer" rows="2" placeholder="FAQ Answer"></textarea>
            `;
            faqContainer.appendChild(newFaq);
        });

        let fieldCount = 2;
        document.getElementById('add-field-btn').addEventListener('click', function() {
            fieldCount++;
            const fieldContainer = document.getElementById('additional-fields');
            const newField = document.createElement('div');
            newField.className = 'form-group mt-3';
            newField.innerHTML = `
                <label for="fieldLabel${fieldCount}" class="text-primary">Field Label ${fieldCount}*</label>
                <input type="text" class="form-control" id="fieldLabel${fieldCount}" name="fieldLabel${fieldCount}" placeholder="Field Label" required>
                <label for="fieldType${fieldCount}" class="text-primary mt-2">Field Type ${fieldCount}*</label>
                <select class="form-select" id="fieldType${fieldCount}" name="fieldType${fieldCount}" required>
                    <option selected>Choose...</option>
                    <option value="text">Text</option>
                    <option value="number">Number</option>
                    <option value="email">Email</option>
                    <option value="date">Date</option>
                </select>
                <label for="isRequired${fieldCount}" class="text-primary mt-2">Required ${fieldCount}*</label>
                <input type="checkbox" class="form-check-input" id="isRequired${fieldCount}" name="isRequired${fieldCount}">
            `;
            fieldContainer.appendChild(newField);
        });
        document.getElementById('eventfee').addEventListener('change', function() {
            const fee = parseFloat(this.value);
            if (fee > 0) {
                document.getElementById('payment-fields').style.display = 'block';
            } else {
                document.getElementById('payment-fields').style.display = 'none';
            }
        });
    </script>
</body>
</html>
